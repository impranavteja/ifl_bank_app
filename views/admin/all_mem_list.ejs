<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <title>IFL Branch dashboard</title>
    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/img/fav-logo.png">
    <!-- Fontfamily -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,500;0,600;0,700;1,400&display=swap">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Feathericon CSS -->
    <link rel="stylesheet" href="/assets/plugins/feather/feather.css">
    <!-- Fontawesome CSS -->
    <link rel="stylesheet" href="/assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="/assets/plugins/fontawesome/css/all.min.css">
    <!-- Datatables CSS -->
    <link rel="stylesheet" href="/assets/plugins/datatables/datatables.min.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="/assets/css/style.css">
  </head>
  <body>
    <!-- Main Wrapper -->
    <div class="main-wrapper"><%- include('branch_menu1.ejs') %>
      <!-- Page Wrapper -->
      <div class="page-wrapper">
        <div class="content container-fluid">
          <!-- Page Header -->
          <div class="page-header">
            <div class="row">
              <div class="col">
                <h3 class="page-title">BRANCH WISE MEMBERS DETAILS </h3>
                <ul class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a href="/branchdashboard">Dashboard</a>
                  </li>
                  <li class="breadcrumb-item active">Active Members List</li>
                </ul>
                
              </div>
             
            </div>
          </div>
          <ul class="list-links mb-4">
            
            <li><a href="/newmemberslist">Todays New Members List</a></li>
            <li class="active"><a href="/allmemberslist">Members list</a></li>
        </ul>
          <!-- /Page Header -->
          <div class="row">
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-2">MEMBERS LIST</h5>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table  id='myTable' class="datatable table table-stripped">
                      <thead>
                        <tr>
                          <th>MEMBER ID</th>
                          <th>PROSPER ID</th>
                          <th>MEMBER NAME</th>
                        </tr>
                      </thead>
                      <tbody><% members.forEach(function(ch) { %> <tr>
                          <td><%= ch['member_code'] %> </td>
                          <td><%= ch['prosper_code'] %> </td>
                          <td><%= ch['member_name'] %> </td>
                      </tr><% }); %> </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <script>
            const searchFun = () => {
                let filter = document.getElementById('myInput').value.toUpperCase();
                
                let myTable = document.getElementById('myTable');
                
                let tr = myTable.getElementsByTagName('tr');
        
                for(var i=0;i<tr.length;i++){
                    let td = tr[i].getElementsByTagName('td')[1];
                    let t1 = tr[i].getElementsByTagName('td')[0];
                    let t2 = tr[i].getElementsByTagName('td')[2];
             
                    if(td || t2){
                        let textvlaue = td.textContent || td.innerHTML;
                        let phone = t2.textContent || t2.innerHTML;
                        let pid = t1.textContent || t1.innerHTML;
                        if(textvlaue.toUpperCase().indexOf(filter)>-1 || phone.indexOf(filter)>-1 || pid.toUpperCase().indexOf(filter)>-1){
                            tr[i].style.display = "";
                        }
                        else{
                            tr[i].style.display = "none";
                        }
                    }
                }
        
            }
        </script>
        <!-- jQuery -->
        <script src="/assets/js/jquery-3.6.0.min.js"></script>
        <!-- Bootstrap Core JS -->
        <script src="/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
        <!-- Slimscroll JS -->
        <script src="/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
        <!-- Custom JS -->
        <script src="/assets/js/script.js"></script>
        <!-- Datatables JS -->
        <script src="/assets/plugins/datatables/jquery.dataTables.min.js"></script>
        <script src="/assets/plugins/datatables/datatables.min.js"></script>
        <!-- Feather Icon JS -->
        <script src="/assets/js/feather.min.js"></script>
  </body>
</html>